<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PostAtion - Faça Posts Automatizados para Suas Redes Socias</title>
        <link rel="stylesheet" href="../css/global.css">
        <link rel="stylesheet" href="../css/folder.css">
        <link rel="stylesheet" href="../css/input-wrappers.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.12/themes/default/style.min.css">

        <style>

            body {

                overflow-y: auto;
                display: flex;
                flex-direction: column;
                min-height: 100vh;

            }

            main {

                flex: 1;

            }

            header {

                width: calc(100% - 40px);
                height: 50px;
                padding: 20px;
                margin: 0;
                text-align: center;
                background-color: #ddd;
                animation: fade-in-top 1s ease-in-out;
                position: sticky;
                top: 0;
                z-index: 100;

            }

            h1 {

                margin: 0;
                font-size: 3rem;

            }

            .options h2 {

                font-size: 3rem;

            }

            .container-main {

                background-color: #f7f7f7;
                border-radius: 20px;
                padding: 20px;
                text-align: center;
                width: 95%;
                margin: 20px auto;
                animation: fade-in-top 1s ease-in-out;
                min-height: 70vh;

            }

            .options {

                display: flex;
                width: 100%;
                justify-content: space-around;
                align-items: center;

            }

            .options .filtro select {

                padding: 10px;
                height: 40px;
                background-color: transparent;
                border: 1px solid #66c1a3;
                border-bottom: 5px solid #66c1a3;
                cursor: pointer;
                border-radius: 20px;
                transition: all 0.4s ease-in-out;
                
            }

            .options .filtro select:hover {

                background-color: #66c1a3;
                color: #fff;

            }

            .options .filtro {

                display: flex;
                align-items: center;
                gap: 10px;

            }

            .options .filtro label {

                font-weight: bold;
                font-size: 18px;
                white-space: nowrap;

            }

            .options button {

                max-height: 40px;

            }

            .postList {

                display: grid; 
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;    
                width: calc(100% - 20px);
                margin-top: 30px;
                background-color: #f1f1f1;
                padding: 10px;
                border-radius: 10px;
                height: 500px; 

            }

            
            .postList > div {

                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);

            }

            #noPost {

                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: #888;
                font-size: 20px;

            }

            .input-wrapper label {

                left: 20px;

            }

            .input-wrapper input:focus + label,
            .input-wrapper input:not(:placeholder-shown) + label {

                transform: translateY(-110%);
                color: #7bc9af;
                background-color: #f1f1f1;
                font-size: 14px;

            }
            #postDescription:focus + label,
            #postDescription:not(:placeholder-shown) + label {

                transform: translateY(-300%);
                color: #7bc9af;
                background-color: #f1f1f1;
                font-size: 14px !important;

            }

            #postDescription {

                height: 150px;
                overflow-y: auto;
                padding: 30px;
                width: calc(100% - 60px);

            }

            .inputName {

                margin-bottom: 70px;

            }

            footer {

                width: 100%;
                padding: 20px 0;
                margin: 0;
                text-align: center;
                background-color: #ddd;
                animation: fade-in-top 1s ease-in-out;

            }

        </style>

    </head>
    <body>

        <main>

            <header>

                <h1>PostAtion</h1>

                <svg xmlns="http://www.w3.org" width="25" height="25" fill="currentColor" viewBox="0 0 16 16" class="settings" id="settings">
                    <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                </svg>

            </header>

            <div class="container-main" id="container-main">

                <div class="options">

                    <h2>Posts</h2>

                    <div class="filtro">

                        <label for="filtro">Filtro:</label>
                        <select id="filtro">

                            <option value="dtPP">Data de Postagem Mais Próxima</option>
                            <option value="dtPD">Data de Postagem Mais Distante</option>

                        </select>

                    </div>

                    <button id="addPost">Adicionar Post +</button>

                </div>
                
                <div id="postList" class="postList">

                    <span id="noPost">Atenção! Sem suas credenciais não é possível agendar posts. <br>
                        <button id="btnAddCredenciais" data-modal="modal-credentials-instagram" >Adicionar credenciais do instagram.</button>
                    </span>
                    

                </div>

            </div>
            <div class="container-main" id="container-settings" style="display: none;">

                <div class="btn-group" >
                    
                    <a href="javascript:history.back()" class="backToMain" id="backToMain" style="font-size: 24px; text-decoration: none;">&#8592; Voltar</a>
                    
                    <button class="logoutBtn" id="logoutBtn">
                        <div class="sign">
                          <svg viewBox="0 0 512 512">
                            <path
                              d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"
                            ></path>
                          </svg>
                        </div>
                      
                        <div class="text">Logout</div>
                    </button>

                </div>

               <h2 style="text-align: left;">Configurações 
                    <svg xmlns="http://www.w3.org" width="25" height="25" fill="currentColor" viewBox="0 0 16 16" class="icon-title-settings">
                        <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                    </svg>
                </h2>

                <h3 id="userName" style="text-align: left;">Nome</h3>
                <h3 id="userEmail" style="text-align: left;">email@gmail.com</h3>

                <div class="action-setting" data-modal="modal-change-email" id="changeEmail">

                    <h4>Mudar email</h4>
                    <small>Alterar email exige que tenha sua senha em mãos para a validação.</small>

                </div>

                <div class="action-setting" data-modal="modal-change-password" id="changePassword">

                    <h4>Mudar senha</h4>
                    <small>Alterar senha exige que tenha sua email em mãos para a validação.</small>

                </div>

                <div class="action-setting" data-modal="modal-credentials-instagram" id="putIntagramLogin">

                    <h4>Alterar/adicionar senhas do Instagram</h4>
                    <small>Adicione ou altere os seus dados de login no Instagram para efetuação dos posts. Lembre-se que só é possível fazer os posts com essas credenciais.</small>

                </div>

                <div class="action-setting" data-modal="modal-delete-accont" id="deleteAccont">

                    <h4>Excluir conta</h4>
                    <small>Atenção! Ao excluir sua conta, caso tenha posts agendados eles também serão excluidos do nosso banco de dados sem chance de recuperação.</small>

                </div>

            </div>

        </main>

        <div class="modal" id="modal-new-post">

            <div class="modal-content" style="height: 800px;">

                <h2>New Post</h2>

                <span id="fechar" class="fechar">&times;</span>

                <form id="newPostForm">

                    <div class="input-wrapper inputName">

                        <input type="text" id="postName" required placeholder="">
                        <label for="postName">Dê um nome para seu post:</label>
    
                    </div>
                      
                    <!-- Container de edição das imagens -->
                    <div class="photoEdit"></div>


                    <div class="input-wrapper">

                        <textarea name="postDescription" id="postDescription" placeholder=""></textarea>
                        <label for="postDescription" style="font-size: 20px; top: 40px;">Dê uma descrição para seu post (inclua as '#' também):</label>
    
                    </div>

                    <h4>Quando deve ser postado?</h4>
                    <div class="input-date-time">

                        <input type="date" id="datePost" required>
                        <input type="time" id="timePost" required>

                    </div>

                    <button type="submit" class="register">Registrar</button>

                </form>

            </div>

        </div>

        <div class="modal" id="modal-change-email">

            <div class="modal-content" id="modal-content-alert-email">

                <h2>Tem certeza que deseja mudar seu email?</h2>
                <div class="btn-group">
                    <button class="cancel">Cancelar</button>
                    <button id="confirm-alert-change-email">Confirmar</button>
                </div>

            </div>

            <div class="modal-content" id="modal-content-new-email">

                <h2>Digite o novo email:</h2>
                <form id="putEmailForm">
                    <input type="text" id="new-email inputModal">
                    <div class="btn-group">
                        <button class="cancel">Cancelar</button>
                        <button type="submit">Confirmar</button>    
                    </div>
                </form>

            </div>

        </div>

        <div class="modal" id="modal-change-password">

            <div class="modal-content" id="modal-content-alert-password">

                <h2>Tem certeza que deseja mudar sua senha?</h2>
                <div class="btn-group">
                    <button class="cancel">Cancelar</button>
                    <button id="confirmAlertChangePassword">Confirmar</button>
                </div>

            </div>
            <div class="modal-content" id="modal-content-confirm-email">

                <h2>Digite seu email para confirmação:</h2>
                <form id="formConfirmEmailChangePassword">
                    <input type="text" id="email-confirmation-change-email inputModal">
                    <div class="btn-group">
                        <button class="cancel">Cancelar</button>
                        <button type="submit">Confirmar</button>
                    </div>
                </form>

            </div>

            <div class="modal-content" id="modal-content-new-password">

                <h2>Digite a nova senha:</h2>
                <form id="putPasswordForm">
                    <input type="text" id="new-password inputModal">
                    <div class="btn-group">
                        <button class="cancel">Cancelar</button>
                        <button type="submit">Confirmar</button>
                    </div>
                </form>

            </div>

        </div>

        <div class="modal" id="modal-credentials-instagram">

            <div class="modal-content" id="modal-content-credentials-instagram">

                <h2>Insira as credenciais do seu Instagram:</h2>
                <small>Não se preoculpe, não temos acesso às suas credenciais, elas são protegidas com criptografia</small>

                <form id="instagramCredentialsForm">

                    <div class="input-wrapper">

                        <input type="text" id="instagramEmailOrNumber inputModal" required placeholder="">
                        <label for="instagramEmailOrNumber">Digite o seu email ou numero de telefone:</label>

                    </div>

                    <div class="input-wrapper">

                        <input type="text" id="instagramPassword inputModal" required placeholder="">
                        <label for="instagramPassword">Digite sua senha:</label>

                    </div>

                    <div class="btn-group">
                        <button class="cancel">Cancelar</button>
                        <button type="submit">Salvar</button>
                    </div>

                </form>

            </div>

        </div>

        <div class="modal" id="modal-delete-accont">

            <div class="modal-content" id="modal-content-alert-delete-accont">

                <h2>Tem certeza que deseja excluir sua conta?</h2>
                <div class="btn-group">
                    <button class="cancel">Cancelar</button>
                    <button id="confirmAlertDeleteAccont">Confirmar</button>
                </div>

            </div>
            <div class="modal-content" id="modal-content-confirm-email-delete-accont">

                <h2>Digite seu email para confirmação:</h2>
                <form id="formCheckEmailDelete">
                    <input type="text" id="email-confirmation-delete inputModal">
                    <div class="btn-group">
                        <button class="cancel">Cancelar</button>
                        <button type="submit">Confirmar</button>
                    </div>
                </form>

            </div>

            <div class="modal-content" id="modal-content-confirm-password-delete-accont">

                <h2>Digite sua senha para confirmação:</h2>
                <form id="deleteAccontForm">
                    <input type="text" id="password-confirmation inputModal">
                    <div class="btn-group">
                        <button class="cancel">Cancelar</button>
                        <button type="submit">Confirmar</button>
                    </div>
                </form>

            </div>

        </div>

        <footer>&copy; Todos os direitos reservados 2026.</footer>
        
        <script>

        const btnCloseModalNewPost = document.getElementById('fechar');
        const btnAddPost = document.getElementById('addPost');
        const modalNewPost = document.getElementById('modal-new-post');

        btnAddPost.addEventListener('click', () => modalNewPost.style.display='flex');
        btnCloseModalNewPost.addEventListener('click', () => modalNewPost.style.display='none');

        const btnBackMain = document.getElementById('backToMain');
        const btnSettings = document.getElementById('settings');
        const settingsSection = document.getElementById('container-settings');
        const mainSection = document.getElementById('container-main');

        btnSettings.addEventListener('click', () =>{

            if (
                mainSection.style.display === 'none' &&
                settingsSection.style.display === 'block'           
            ) {

                mainSection.style.display = 'block';
                settingsSection.style.display = 'none';

            } else {

                mainSection.style.display = 'none';
                settingsSection.style.display = 'block';

            }

        });
        btnBackMain.addEventListener('click', () =>{

            mainSection.style.display = 'block';
            settingsSection.style.display = 'none';

        });

        fetch('editor.html')
            .then(res => res.text())
            .then(html => {
                document.querySelector('.photoEdit').innerHTML = html;

                //inicializa o editor SÓ depois do HTML existir
                initEditor();
            })
            .catch(erro => console.error('Erro ao carregar o editor: ', erro));

        </script>
        <script src="../js/mainSettings.js"></script>
        <script src="../js/editor.js"></script>

    </body>
</html>